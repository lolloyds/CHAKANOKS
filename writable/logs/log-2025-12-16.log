DEBUG - 2025-12-16 00:46:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 00:46:54 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 00:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:46:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:46:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:47:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 00:47:58 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 00:47:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:47:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:48:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:51:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:51:59 --> Admin supplier view - User: Central Office Admin
DEBUG - 2025-12-16 00:51:59 --> Suppliers count with direct query: 7
DEBUG - 2025-12-16 00:51:59 --> First supplier with direct: {"id":"7","supplier_name":"Rice & Grains Wholesale","contact_person":"Sofia Martinez","phone":"+63 923 789 0123","email":"sofia.martinez@ricegrains.com","address":"147 Grain Street, Davao City","supply_type":"Rice and Grains","status":"Active","created_at":"2025-12-15 14:02:31","updated_at":"2025-12-15 14:02:31","deleted_at":null,"is_deleted":"0"}
DEBUG - 2025-12-16 00:52:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:52:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:52:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:52:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:53:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:53:12 --> JSON Data received: {"branch_id":"1","date_needed":"2026-01-01","notes":"","items":[{"item_name":"Whole Chicken","quantity":"1","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 00:53:12 --> Items array: [{"item_name":"Whole Chicken","quantity":"1","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 00:53:12 --> Items count: 1
DEBUG - 2025-12-16 00:53:12 --> Processing item 0: {"item_name":"Whole Chicken","quantity":"1","unit":"pcs","notes":""}
DEBUG - 2025-12-16 00:53:12 --> Item name value: 'Whole Chicken'
DEBUG - 2025-12-16 00:53:12 --> Item quantity value: '1'
DEBUG - 2025-12-16 00:53:12 --> Trimmed item name: 'Whole Chicken', quantity: '1'
DEBUG - 2025-12-16 00:53:12 --> Inserting item data: {"purchase_request_id":2,"item_id":null,"item_name":"Whole Chicken","quantity":1,"unit":"pcs","notes":""}
DEBUG - 2025-12-16 00:53:12 --> Item insert result: SUCCESS with ID: 2
DEBUG - 2025-12-16 00:53:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:53:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:53:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 00:57:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:04:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:04:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:05:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:05:11 --> Admin supplier view - User: Central Office Admin
DEBUG - 2025-12-16 01:05:11 --> Suppliers count with direct query: 7
DEBUG - 2025-12-16 01:05:11 --> First supplier with direct: {"id":"7","supplier_name":"Rice & Grains Wholesale","contact_person":"Sofia Martinez","phone":"+63 923 789 0123","email":"sofia.martinez@ricegrains.com","address":"147 Grain Street, Davao City","supply_type":"Rice and Grains","status":"Active","created_at":"2025-12-15 14:02:31","updated_at":"2025-12-15 14:02:31","deleted_at":null,"is_deleted":"0"}
DEBUG - 2025-12-16 01:05:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:08:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:13:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:13:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 01:13:34 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:13:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:13:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:14:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:14:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:15:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:17:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:18:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:19:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:19:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:28:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:28:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:35:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:35:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:38:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:38:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:38:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:41:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:42:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:42:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:46:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:47:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:47:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:47:41 --> Approve request - JSON data received: {"supplier_id":"1"}
DEBUG - 2025-12-16 01:47:41 --> Approve request - POST data: []
DEBUG - 2025-12-16 01:47:41 --> Approve request - Supplier ID: 1
DEBUG - 2025-12-16 01:47:41 --> Approve request - Supplier validated: Fresh Poultry Farm
DEBUG - 2025-12-16 01:47:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:47:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:47:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:49:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 01:49:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:22:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:27:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:27:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 03:27:24 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 03:27:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:27:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:27:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:27:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:29:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:39:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:41:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:43:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:45:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:45:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:45:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 03:45:33 --> Login attempt failed: Invalid password for user 'supplier1'
DEBUG - 2025-12-16 03:45:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:45:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 03:45:44 --> Login attempt failed: Invalid password for user 'supplier1'
DEBUG - 2025-12-16 03:45:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:45:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 03:45:54 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 03:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:45:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:46:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:46:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 03:46:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:15:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:16:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:16:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:19:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:19:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:20:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:20:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:20:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:21:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:23:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:23:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:23:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:23:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:25:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:25:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:25:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:25:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:25:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:25:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:27:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:28:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:32:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:32:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:34:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:34:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:39:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:50:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:51:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:51:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:51:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 04:51:59 --> Login attempt failed: Invalid password for user 'logistics_coordinator'
DEBUG - 2025-12-16 04:51:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:51:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 04:52:05 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 04:52:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:52:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 04:52:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:03:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 06:04:45 --> Login attempt failed: User 'logistic_coordinator' not found
DEBUG - 2025-12-16 06:04:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:04:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:05:02 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 06:05:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:05:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:05:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:07:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:07:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:08:02 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 06:08:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:08:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:08:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:09:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:09:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:09:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:09:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:09:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:09:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:22:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:22:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:26:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:26:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:26:56 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 06:26:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:26:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:27:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:28:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:28:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:28:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:28:45 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 06:28:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:28:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:28:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:29:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:30:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:30:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 06:30:50 --> Login attempt failed: Invalid password for user 'branch_manager1'
DEBUG - 2025-12-16 06:30:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:30:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 06:31:01 --> Login attempt failed: Invalid password for user 'branch_manager1'
DEBUG - 2025-12-16 06:31:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:31:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:31:12 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 06:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:31:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:31:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:31:49 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-22","notes":"nknnknknknknkn","items":[{"item_name":"chicken","quantity":"1","unit":"pack","notes":""}]}
DEBUG - 2025-12-16 06:31:49 --> Items array: [{"item_name":"chicken","quantity":"1","unit":"pack","notes":""}]
DEBUG - 2025-12-16 06:31:49 --> Items count: 1
DEBUG - 2025-12-16 06:31:49 --> Processing item 0: {"item_name":"chicken","quantity":"1","unit":"pack","notes":""}
DEBUG - 2025-12-16 06:31:49 --> Item name value: 'chicken'
DEBUG - 2025-12-16 06:31:49 --> Item quantity value: '1'
DEBUG - 2025-12-16 06:31:49 --> Trimmed item name: 'chicken', quantity: '1'
DEBUG - 2025-12-16 06:31:49 --> Inserting item data: {"purchase_request_id":3,"item_id":null,"item_name":"chicken","quantity":1,"unit":"pack","notes":""}
DEBUG - 2025-12-16 06:31:49 --> Item insert result: SUCCESS with ID: 3
DEBUG - 2025-12-16 06:31:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:32:08 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 06:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:21 --> Approve request - JSON data received: {"supplier_id":"1"}
DEBUG - 2025-12-16 06:32:21 --> Approve request - POST data: []
DEBUG - 2025-12-16 06:32:21 --> Approve request - Supplier ID: 1
DEBUG - 2025-12-16 06:32:21 --> Approve request - Supplier validated: Fresh Poultry Farm
DEBUG - 2025-12-16 06:32:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 06:32:57 --> Login attempt failed: Invalid password for user 'logistics_coordinator'
DEBUG - 2025-12-16 06:32:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:32:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:33:07 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:33:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:33:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:33:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:33:27 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 06:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:33:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:33:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:34:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:34:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:34:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:35:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:37:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:37:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:37:29 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 06:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:37:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:37:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:40:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:41:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:41:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:41:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:42:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:43:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:43:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:44:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:44:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:44:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:44:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:47:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:47:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:47:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:47:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:48:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:48:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:50:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:50:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:53:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:55:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:55:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:56:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:56:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:56:22 --> User 'branch_manager2' logged in successfully
DEBUG - 2025-12-16 06:56:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:56:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:56:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:56:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:56:56 --> JSON Data received: {"branch_id":"2","date_needed":"2025-12-25","notes":"","items":[{"item_name":"chicken","quantity":"2","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 06:56:56 --> Items array: [{"item_name":"chicken","quantity":"2","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 06:56:56 --> Items count: 1
DEBUG - 2025-12-16 06:56:56 --> Processing item 0: {"item_name":"chicken","quantity":"2","unit":"pcs","notes":""}
DEBUG - 2025-12-16 06:56:56 --> Item name value: 'chicken'
DEBUG - 2025-12-16 06:56:56 --> Item quantity value: '2'
DEBUG - 2025-12-16 06:56:56 --> Trimmed item name: 'chicken', quantity: '2'
DEBUG - 2025-12-16 06:56:56 --> Inserting item data: {"purchase_request_id":4,"item_id":null,"item_name":"chicken","quantity":2,"unit":"pcs","notes":""}
DEBUG - 2025-12-16 06:56:56 --> Item insert result: SUCCESS with ID: 4
DEBUG - 2025-12-16 06:56:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 06:57:22 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 06:57:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:34 --> Approve request - JSON data received: {"supplier_id":"1"}
DEBUG - 2025-12-16 06:57:34 --> Approve request - POST data: []
DEBUG - 2025-12-16 06:57:34 --> Approve request - Supplier ID: 1
DEBUG - 2025-12-16 06:57:34 --> Approve request - Supplier validated: Fresh Poultry Farm
DEBUG - 2025-12-16 06:57:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 06:57:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:36:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:36:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:37:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:37:02 --> Admin supplier view - User: Central Office Admin
DEBUG - 2025-12-16 07:37:02 --> Suppliers count with direct query: 7
DEBUG - 2025-12-16 07:37:02 --> First supplier with direct: {"id":"7","supplier_name":"Rice & Grains Wholesale","contact_person":"Sofia Martinez","phone":"+63 923 789 0123","email":"sofia.martinez@ricegrains.com","address":"147 Grain Street, Davao City","supply_type":"Rice and Grains","status":"Active","created_at":"2025-12-15 14:02:31","updated_at":"2025-12-15 14:02:31","deleted_at":null,"is_deleted":"0"}
DEBUG - 2025-12-16 07:37:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:37:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:37:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:38:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:38:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 07:39:07 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 07:39:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 07:39:35 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 07:39:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:39:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:40:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:40:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:40:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:40:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:40:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 07:41:03 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 07:41:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:41:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:41:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:41:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:42:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:42:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:43:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:44:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:44:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:44:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 07:45:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:14:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:14:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:14:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:14:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:14:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:16:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:16:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:16:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:16:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 08:17:01 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 08:17:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:17:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:17:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:17:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:17:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:17:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:21:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:21:13 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, `...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, `...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, `...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, `...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 08:23:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:23:16 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 08:25:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:25:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:25:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:26:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:29:01 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`users`, CONSTRAINT `users_branch_id_foreign` FOREIGN KEY (`branch_id`) REFERENCES `branches` (`id`) ON DELETE CASCADE ON UPDATE SET NULL) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `us...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `us...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `us...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1841): CodeIgniter\Database\BaseConnection->query('INSERT INTO `us...', NULL, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2230): CodeIgniter\Database\BaseBuilder->batchExecute('_insertBatch', 100)
#5 C:\xampp1\htdocs\CHAKANOKS\app\Database\Seeds\UsersSeeder.php(152): CodeIgniter\Database\BaseBuilder->insertBatch(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Database\Seeder.php(149): App\Database\Seeds\UsersSeeder->run()
#7 C:\xampp1\htdocs\CHAKANOKS\system\Commands\Database\Seed.php(79): CodeIgniter\Database\Seeder->call('App\\Database\\Se...')
#8 C:\xampp1\htdocs\CHAKANOKS\system\CLI\Commands.php(74): CodeIgniter\Commands\Database\Seed->run(Array)
#9 C:\xampp1\htdocs\CHAKANOKS\system\CLI\Console.php(47): CodeIgniter\CLI\Commands->run('db:seed', Array)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(388): CodeIgniter\CLI\Console->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(133): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#12 C:\xampp1\htdocs\CHAKANOKS\spark(87): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#13 {main}
INFO - 2025-12-16 08:33:53 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 08:33:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:33:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:34:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:34:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:49:27 --> mysqli_sql_exception: Duplicate entry 'branch_manager1' for key 'users.username' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `us...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `us...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `us...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1841): CodeIgniter\Database\BaseConnection->query('INSERT INTO `us...', NULL, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2230): CodeIgniter\Database\BaseBuilder->batchExecute('_insertBatch', 100)
#5 C:\xampp1\htdocs\CHAKANOKS\app\Database\Seeds\UsersSeeder.php(152): CodeIgniter\Database\BaseBuilder->insertBatch(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Database\Seeder.php(149): App\Database\Seeds\UsersSeeder->run()
#7 C:\xampp1\htdocs\CHAKANOKS\app\Database\Seeds\DatabaseSeeder.php(18): CodeIgniter\Database\Seeder->call('App\\Database\\Se...')
#8 C:\xampp1\htdocs\CHAKANOKS\system\Database\Seeder.php(149): App\Database\Seeds\DatabaseSeeder->run()
#9 C:\xampp1\htdocs\CHAKANOKS\system\Commands\Database\Seed.php(79): CodeIgniter\Database\Seeder->call('App\\Database\\Se...')
#10 C:\xampp1\htdocs\CHAKANOKS\system\CLI\Commands.php(74): CodeIgniter\Commands\Database\Seed->run(Array)
#11 C:\xampp1\htdocs\CHAKANOKS\system\CLI\Console.php(47): CodeIgniter\CLI\Commands->run('db:seed', Array)
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(388): CodeIgniter\CLI\Console->run()
#13 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(133): CodeIgniter\Boot::runCommand(Object(CodeIgniter\CLI\Console))
#14 C:\xampp1\htdocs\CHAKANOKS\spark(87): CodeIgniter\Boot::bootSpark(Object(Config\Paths))
#15 {main}
DEBUG - 2025-12-16 08:51:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:52:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:52:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:54:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:54:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:54:50 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_requests`, CONSTRAINT `purchase_requests_requested_by_foreign` FOREIGN KEY (`requested_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(110): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:54:50 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:54:50 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:54:50 --> Items count: 1
DEBUG - 2025-12-16 08:54:50 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:54:50 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:54:50 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:54:50 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:54:50 --> Inserting item data: {"purchase_request_id":false,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
ERROR - 2025-12-16 08:54:50 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(150): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:54:50 --> Item insert result: FAILED
ERROR - 2025-12-16 08:54:50 --> Failed to insert item: {"CodeIgniter\\Database\\MySQLi\\Connection":"Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C"}
DEBUG - 2025-12-16 08:54:53 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:54:53 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_requests`, CONSTRAINT `purchase_requests_requested_by_foreign` FOREIGN KEY (`requested_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(110): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:54:53 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:54:53 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:54:53 --> Items count: 1
DEBUG - 2025-12-16 08:54:53 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:54:53 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:54:53 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:54:53 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:54:54 --> Inserting item data: {"purchase_request_id":false,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
ERROR - 2025-12-16 08:54:54 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(150): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:54:54 --> Item insert result: FAILED
ERROR - 2025-12-16 08:54:54 --> Failed to insert item: {"CodeIgniter\\Database\\MySQLi\\Connection":"Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C"}
DEBUG - 2025-12-16 08:55:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:55:02 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_requests`, CONSTRAINT `purchase_requests_requested_by_foreign` FOREIGN KEY (`requested_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(110): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:02 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:55:02 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:55:02 --> Items count: 1
DEBUG - 2025-12-16 08:55:02 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:55:02 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:55:02 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:55:02 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:55:02 --> Inserting item data: {"purchase_request_id":false,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
ERROR - 2025-12-16 08:55:02 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(150): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:02 --> Item insert result: FAILED
ERROR - 2025-12-16 08:55:02 --> Failed to insert item: {"CodeIgniter\\Database\\MySQLi\\Connection":"Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C"}
DEBUG - 2025-12-16 08:55:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:55:10 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_requests`, CONSTRAINT `purchase_requests_requested_by_foreign` FOREIGN KEY (`requested_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(110): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:10 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:55:10 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:55:10 --> Items count: 1
DEBUG - 2025-12-16 08:55:10 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:55:10 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:55:10 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:55:10 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:55:10 --> Inserting item data: {"purchase_request_id":false,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
ERROR - 2025-12-16 08:55:10 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(150): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:10 --> Item insert result: FAILED
ERROR - 2025-12-16 08:55:10 --> Failed to insert item: {"CodeIgniter\\Database\\MySQLi\\Connection":"Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C"}
DEBUG - 2025-12-16 08:55:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:55:42 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_requests`, CONSTRAINT `purchase_requests_requested_by_foreign` FOREIGN KEY (`requested_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(110): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:42 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:55:42 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:55:42 --> Items count: 1
DEBUG - 2025-12-16 08:55:42 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:55:42 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:55:42 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:55:42 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:55:42 --> Inserting item data: {"purchase_request_id":false,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
ERROR - 2025-12-16 08:55:42 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(150): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:42 --> Item insert result: FAILED
ERROR - 2025-12-16 08:55:42 --> Failed to insert item: {"CodeIgniter\\Database\\MySQLi\\Connection":"Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C"}
DEBUG - 2025-12-16 08:55:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:55:52 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_requests`, CONSTRAINT `purchase_requests_requested_by_foreign` FOREIGN KEY (`requested_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(110): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:52 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:55:52 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:55:52 --> Items count: 1
DEBUG - 2025-12-16 08:55:52 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:55:52 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:55:52 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:55:52 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:55:52 --> Inserting item data: {"purchase_request_id":false,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
ERROR - 2025-12-16 08:55:52 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `pu...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `pu...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `pu...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2345): CodeIgniter\Database\BaseConnection->query('INSERT INTO `pu...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(394): CodeIgniter\Database\BaseBuilder->insert()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(838): CodeIgniter\Model->doInsert(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(797): CodeIgniter\BaseModel->insert(Array, true)
#7 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseRequest.php(150): CodeIgniter\Model->insert(Array)
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseRequest->create()
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseRequest))
#10 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#12 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#13 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#14 {main}
DEBUG - 2025-12-16 08:55:52 --> Item insert result: FAILED
ERROR - 2025-12-16 08:55:52 --> Failed to insert item: {"CodeIgniter\\Database\\MySQLi\\Connection":"Cannot add or update a child row: a foreign key constraint fails (`chakanoks_db`.`purchase_request_items`, CONSTRAINT `purchase_request_items_purchase_request_id_foreign` FOREIGN KEY (`purchase_request_id`) REFERENCES `purchase_requests` (`id`) ON DELETE C"}
DEBUG - 2025-12-16 08:56:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:58:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:58:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:58:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:58:19 --> Login attempt failed: Invalid password for user 'branch_manager1'
DEBUG - 2025-12-16 08:58:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:58:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 08:58:34 --> Login attempt failed: Invalid password for user 'branch_manager1'
DEBUG - 2025-12-16 08:58:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:58:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:58:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 08:59:07 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 08:59:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:59:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:59:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:59:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:59:34 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 08:59:34 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 08:59:34 --> Items count: 1
DEBUG - 2025-12-16 08:59:34 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:59:34 --> Item name value: 'chicken'
DEBUG - 2025-12-16 08:59:34 --> Item quantity value: '10'
DEBUG - 2025-12-16 08:59:34 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 08:59:34 --> Inserting item data: {"purchase_request_id":7,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
DEBUG - 2025-12-16 08:59:34 --> Item insert result: SUCCESS with ID: 7
DEBUG - 2025-12-16 08:59:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 08:59:51 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 08:59:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:59:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 08:59:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:05:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:07:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:07:06 --> Approve request - JSON data received: {"supplier_id":"1"}
DEBUG - 2025-12-16 09:07:06 --> Approve request - POST data: []
DEBUG - 2025-12-16 09:07:06 --> Approve request - Supplier ID: 1
DEBUG - 2025-12-16 09:07:06 --> Approve request - Supplier validated: Fresh Poultry Farm
DEBUG - 2025-12-16 09:07:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:07:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:07:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:28:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:28:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 09:31:43 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 09:31:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:31:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:31:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:07 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 09:36:07 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 09:36:07 --> Items count: 1
DEBUG - 2025-12-16 09:36:07 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 09:36:07 --> Item name value: 'chicken'
DEBUG - 2025-12-16 09:36:07 --> Item quantity value: '10'
DEBUG - 2025-12-16 09:36:07 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 09:36:07 --> Inserting item data: {"purchase_request_id":1,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
DEBUG - 2025-12-16 09:36:07 --> Item insert result: SUCCESS with ID: 1
DEBUG - 2025-12-16 09:36:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:39 --> Approve request - JSON data received: {"supplier_id":"1"}
DEBUG - 2025-12-16 09:36:39 --> Approve request - POST data: []
DEBUG - 2025-12-16 09:36:39 --> Approve request - Supplier ID: 1
DEBUG - 2025-12-16 09:36:39 --> Approve request - Supplier validated: Fresh Poultry Farm
DEBUG - 2025-12-16 09:36:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:36:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:37:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 09:37:38 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 09:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:37:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:37:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:38:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 09:38:14 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 09:38:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:38:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:38:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:38:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:40:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:40:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:40:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:40:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 09:40:36 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 09:40:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:40:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:40:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:01 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:45 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:41:48 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 09:41:48 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 09:41:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 09:41:51 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 09:46:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 09:46:55 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 09:58:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:58:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 09:58:31 --> User 'branch_manager1' logged in successfully
DEBUG - 2025-12-16 09:58:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:58:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:58:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:59:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:59:02 --> JSON Data received: {"branch_id":"1","date_needed":"2025-12-17","notes":"","items":[{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]}
DEBUG - 2025-12-16 09:59:02 --> Items array: [{"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}]
DEBUG - 2025-12-16 09:59:02 --> Items count: 1
DEBUG - 2025-12-16 09:59:02 --> Processing item 0: {"item_name":"chicken","quantity":"10","unit":"pcs","notes":""}
DEBUG - 2025-12-16 09:59:02 --> Item name value: 'chicken'
DEBUG - 2025-12-16 09:59:02 --> Item quantity value: '10'
DEBUG - 2025-12-16 09:59:02 --> Trimmed item name: 'chicken', quantity: '10'
DEBUG - 2025-12-16 09:59:02 --> Inserting item data: {"purchase_request_id":1,"item_id":null,"item_name":"chicken","quantity":10,"unit":"pcs","notes":""}
DEBUG - 2025-12-16 09:59:02 --> Item insert result: SUCCESS with ID: 1
DEBUG - 2025-12-16 09:59:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:59:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:59:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 09:59:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 10:00:17 --> User 'central_admin' logged in successfully
DEBUG - 2025-12-16 10:00:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:30 --> Approve request - JSON data received: {"supplier_id":"1"}
DEBUG - 2025-12-16 10:00:30 --> Approve request - POST data: []
DEBUG - 2025-12-16 10:00:30 --> Approve request - Supplier ID: 1
DEBUG - 2025-12-16 10:00:30 --> Approve request - Supplier validated: Fresh Poultry Farm
DEBUG - 2025-12-16 10:00:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 10:00:50 --> User 'logistics_coordinator' logged in successfully
DEBUG - 2025-12-16 10:00:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:00:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 10:00:55 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 10:00:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:01:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:01:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:01:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:01:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-12-16 10:02:14 --> User 'supplier1' logged in successfully
DEBUG - 2025-12-16 10:02:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:02:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:02:18 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:02:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 10:02:24 --> mysqli_sql_exception: Column 'item_id' cannot be null in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('INSERT INTO `de...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('INSERT INTO `de...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('INSERT INTO `de...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1841): CodeIgniter\Database\BaseConnection->query('INSERT INTO `de...', NULL, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(2230): CodeIgniter\Database\BaseBuilder->batchExecute('_insertBatch', 100)
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseOrder.php(739): CodeIgniter\Database\BaseBuilder->insertBatch(Array)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\PurchaseOrder.php(297): App\Controllers\PurchaseOrder->createDeliveryFromPO(Array, Array)
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\PurchaseOrder->updateDeliveryTimeline('1')
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\PurchaseOrder))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
ERROR - 2025-12-16 10:02:24 --> Failed to create delivery from PO: Column 'item_id' cannot be null
DEBUG - 2025-12-16 10:02:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-12-16 10:02:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 10:02:54 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 10:02:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 10:02:56 --> mysqli_sql_exception: Unknown column 'd.item_name' in 'field list' in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `d`.*, C...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `d`.*, C...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `d`.*, C...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `d`.*, C...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(345): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(313): App\Controllers\Inventory->getDeliveriesFromDatabase(NULL)
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Inventory.php(222): App\Controllers\Inventory->getAllDeliveries()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Inventory->deliveries()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Inventory))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 11:29:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 11:29:15 --> mysqli_sql_exception: Table 'chakanoks_db.users' doesn't exist in C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 C:\xampp1\htdocs\CHAKANOKS\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT *\nFROM `...', 0)
#1 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(729): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseConnection.php(646): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 C:\xampp1\htdocs\CHAKANOKS\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 C:\xampp1\htdocs\CHAKANOKS\system\Model.php(330): CodeIgniter\Database\BaseBuilder->get()
#5 C:\xampp1\htdocs\CHAKANOKS\system\BaseModel.php(715): CodeIgniter\Model->doFirst()
#6 C:\xampp1\htdocs\CHAKANOKS\app\Controllers\Auth.php(17): CodeIgniter\BaseModel->first()
#7 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(933): App\Controllers\Auth->login()
#8 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Auth))
#9 C:\xampp1\htdocs\CHAKANOKS\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(363): CodeIgniter\CodeIgniter->run()
#11 C:\xampp1\htdocs\CHAKANOKS\system\Boot.php(68): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#12 C:\xampp1\htdocs\CHAKANOKS\index.php(59): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#13 {main}
DEBUG - 2025-12-16 11:29:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-12-16 11:29:15 --> Login error: Table 'chakanoks_db.users' doesn't exist
DEBUG - 2025-12-16 11:29:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
